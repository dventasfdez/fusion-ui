.fusion-ui {
  .sidebar,
  &.sidebar,
  .sidebar_collapsed,
  &.sidebar_collapsed {
    position: fixed;
    left: 0;
    top: 0;
    display: block;
    background: var(--backgrounds-02);
    padding: calc(2 * $unit);
    height: 100vh;
    min-width: calc(10 * $unit);
    max-width: calc(24 * $unit);
  }

  .sidebar_collapsed,
  &.sidebar_collapsed {
    padding: calc(2 * $unit) $unit;
    max-width: calc(10 * $unit);
  }

  .sidebar-logo {
    border-radius: $unit;
    width: 100%;
    aspect-ratio: 16/9;
    height: auto;
    margin-bottom: calc(2 * $unit);
    img,
    svg,
    i {
      max-width: 100%;
      height: auto;
    }
  }

  button.sidebar-collapsed-button {
    @extend %button-icon_interactive;
    color: var(--icons-02);
    margin: auto auto calc(4 * $unit) 0;
    &:hover {
      border: calc($unit / 8) solid var(--borders-dividers-interactive-hover);
    }
    &:focus-visible {
      border: calc($unit / 8) solid var(--borders-dividers-interactive-focused);
    }
    &:active {
      background: var(--backgrounds-03);
    }
  }

  .sidebar_collapsed button.sidebar-collapsed-button,
  &.sidebar_collapsed button.sidebar-collapsed-button {
    margin: auto auto calc(6 * $unit) auto;
  }

  .sidebar-button,
  .sidebar-button_disabled,
  .sidebar-button_selected,
  .sidebar-button_selected_disabled {
    @include font(medium);
    position: relative;
    outline: 0;
    appearance: none;
    cursor: pointer;

    display: flex;
    align-items: center;
    justify-content: left;
    gap: $unit;

    border-radius: $unit;
    font-weight: 500;
    border: calc($unit / 8) solid var(--backgrounds-02);
    padding: $unit;
    color: var(--text-02);
    text-transform: none;
    margin-bottom: $unit;
    max-height: calc(5 * $unit);

    .sidebar-button-arrow {
      margin-left: auto;
    }

    span:not(span.material-icons) {
      overflow: hidden;
      text-overflow: ellipsis;
    }

    &:hover {
      &:not(.material-icons) {
        text-decoration: none;
      }
      border: calc($unit / 8) solid var(--borders-dividers-interactive-hover);
    }
    &:active {
      background: var(--backgrounds-03);
    }
    &:focus-visible {
      outline: calc($unit / 2) solid var(--borders-dividers-interactive-focused);
    }
  }

  .sidebar_button {
    color: var(--text-02);
  }

  .sidebar-button_selected {
    color: var(--text-01);
    background: var(--backgrounds-03);

    &::before {
      position: absolute;
      top: 0;
      left: calc($minus * 2 * $unit);
      width: calc($unit / 2);
      height: 100%;
      background-color: var(--surface-accent);
      border-top-right-radius: $unit;
      border-bottom-right-radius: $unit;
      content: "";
    }
  }

  .sidebar_collapsed .sidebar-button,
  &.sidebar_collapsed .sidebar-button,
  .sidebar_collapsed .sidebar-button_selected,
  &.sidebar_collapsed .sidebar-button_selected,
  .sidebar_collapsed .sidebar-button_disabled,
  &.sidebar_collapsed .sidebar-button_disabled {
    justify-content: center;
    width: calc(5 * $unit);
    margin: auto auto $unit auto;

    svg,
    .material-icons {
      margin: 0;
    }
  }

  .sidebar-button_disabled {
    pointer-events: none;
    color: var(--text-03);
  }

  .sidebar .sidebar-button:not(:last-of-type),
  &.sidebar .sidebar-button:not(:last-of-type) {
    margin-bottom: $unit;
  }

  .sidebar-divider {
    display: block;
    @extend %tag-font;

    margin-bottom: calc(2 * $unit);
    color: var(--text-02);
  }

  .sidebar-divider:not(.sidebar-collapsed-buton + .sidebar-divider) {
    margin-top: calc(4 * $unit);
  }

  .sidebar-button_dropdown {
    width: 100%;
    .dropdown-menu {
      width: max-content;
      position: absolute;
      top: 50% !important;
      left: calc(100% + 3 * $unit) !important;
      :last-child {
        margin-bottom: 0;
      }
    }
    .dropdown-menu.bottom {
      bottom: 0;
    }
    .dropdown-menu.top {
      top: 0;
    }
  }
}
